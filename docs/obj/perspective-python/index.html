<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-obj/perspective-python">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">perspective-python API | Perspective</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://perspective.finos.org/docs/obj/perspective-python/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="perspective-python API | Perspective"><meta data-rh="true" name="description" content="perspective.table contains Table and View, the data primitives of Perspective."><meta data-rh="true" property="og:description" content="perspective.table contains Table and View, the data primitives of Perspective."><link data-rh="true" rel="icon" href="https://www.finos.org/hubfs/FINOS/finos-logo/favicon.ico"><link data-rh="true" rel="canonical" href="https://perspective.finos.org/docs/obj/perspective-python/"><link data-rh="true" rel="alternate" href="https://perspective.finos.org/docs/obj/perspective-python/" hreflang="en"><link data-rh="true" rel="alternate" href="https://perspective.finos.org/docs/obj/perspective-python/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.183462f2.css">
<link rel="preload" href="/assets/js/runtime~main.891a951e.js" as="script">
<link rel="preload" href="/assets/js/main.537a77d9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/svg/perspective-logo-light.svg" alt="Perspective" class="themedImage_BQGR themedImage--light_HAxW"><img src="/svg/perspective-logo-light.svg" alt="Perspective" class="themedImage_BQGR themedImage--dark_bGx0"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/js/">Docs</a><a class="navbar__item navbar__link" href="/examples/">Examples</a><a href="https://www.prospective.co/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/finos/perspective" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_WqAV"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r docsWrapper_ct1J"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docPage_KLoz"><aside class="theme-doc-sidebar-container docSidebarContainer_y0RQ"><div class="sidebar_CUen"><nav class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/js/">Language Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/table/">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/obj/perspective/">API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/obj/perspective/">perspective API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/obj/perspective-viewer/">perspective-viewer API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/obj/perspective-viewer-exprtk/">ExprTK Function Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/obj/perspective-python/">perspective-python API</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/development/">Developer Guide</a></li></ul></nav></div></aside><main class="docMainContainer_sTIZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_GlTw"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">perspective-python API</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>perspective-python API</h1></header><p><code>perspective.table</code> contains <code>Table</code> and <code>View</code>, the data primitives of Perspective.</p><p>For usage, see the <a href="/docs/md/python.html/">Python User Guide</a>.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="table">Table<a class="hash-link" href="#table" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_JmGV" id="view">View<a class="hash-link" href="#view" title="Direct link to heading">​</a></h2><p><code>perspective.core</code> contains modules that implements <code>perspective-python</code> in various environments,
most notably <code>PerspectiveWidget</code> and the various Perspective web server handlers.</p><p>Additionally, <code>perspective.core</code> defines several enums that provide easy access to aggregate options, different plugins, sort directions etc.</p><p>For usage of <code>PerspectiveWidget</code> and the Perspective web server handlers, see the User Guide in the sidebar.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="perspectivewidget">PerspectiveWidget<a class="hash-link" href="#perspectivewidget" title="Direct link to heading">​</a></h2><p><code>PerspectiveWidget</code> is a Perspective integration into <a href="/docs/obj/perspective-python/[https://jupyterlab.readthedocs.io/en/stable](https://jupyterlab.readthedocs.io/en/stable)/">JupyterLab</a>.</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="class-perspectivewidgetwidgetperspectivewidgetkwargs-any"><em>class</em> perspective.widget.widget.PerspectiveWidget(<!-- -->*<!-- -->*<!-- -->kwargs: Any)<a class="hash-link" href="#class-perspectivewidgetwidgetperspectivewidgetkwargs-any" title="Direct link to heading">​</a></h3><p>Bases: <code>DOMWidget</code>, <a href="#perspective.viewer.viewer.PerspectiveViewer"><code>PerspectiveViewer</code></a></p><p>:class<!-- -->`<!-- -->~perspective.PerspectiveWidget<!-- -->`<!-- --> allows for Perspective to be used
in the form of a Jupyter IPython widget.</p><p>Using perspective.Table, you can create a widget that extends the full
functionality of perspective-viewer.  Changes on the viewer can be
programatically set on the :class<!-- -->`<!-- -->~perspective.PerspectiveWidget<!-- -->`<!-- --> instance,
and state is maintained across page refreshes.</p><h5 class="anchor anchorWithStickyNavbar_JmGV" id="examples">Examples<a class="hash-link" href="#examples" title="Direct link to heading">​</a></h5><div class="language-pycon codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-pycon codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; from perspective import Table, PerspectiveWidget</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; data = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     &quot;a&quot;: [1, 2, 3],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     &quot;b&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...         &quot;2019/07/11 7:30PM&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...         &quot;2019/07/11 8:30PM&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...         &quot;2019/07/11 9:30PM&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">... }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; tbl = Table(data, index=&quot;a&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; widget = PerspectiveWidget(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     tbl,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     group_by=[&quot;a&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     sort=[[&quot;b&quot;, &quot;desc&quot;]],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     filter=[[&quot;a&quot;, &quot;&gt;&quot;, 1]]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">... )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; widget.sort</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[[&quot;b&quot;, &quot;desc&quot;]]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; widget.sort.append([&quot;a&quot;, &quot;asc&quot;])</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; widget.sort</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[[&quot;b&quot;, &quot;desc&quot;], [&quot;a&quot;, &quot;asc&quot;]]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; widget.update({&quot;a&quot;: [4, 5]}) # Browser UI updates</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg class="copyButtonIcon_FoOz" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_L0B6" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_JmGV" id="__init__data-indexnone-limitnone-serverfalse-clienttrue-kwargs">_<!-- -->_<!-- -->init_<!-- -->_<!-- -->(data, index=None, limit=None, server=False, client=True, <!-- -->*<!-- -->*<!-- -->kwargs)<a class="hash-link" href="#__init__data-indexnone-limitnone-serverfalse-clienttrue-kwargs" title="Direct link to heading">​</a></h4><p>Initialize an instance of :class<!-- -->`<!-- -->~perspective.PerspectiveWidget<!-- -->`<!-- -->
with the given table/data and viewer configuration.</p><p>If a pivoted DataFrame or MultiIndex table is passed in, the widget
preserves pivots and applies them.  See PerspectiveViewer.<em>_<!-- -->init</em>_<!-- --> for
arguments that transform the view shown in the widget.</p><ul><li><strong>Parameters:</strong><strong>data</strong> (<code>Table</code>|:obj:<code>View</code>|:obj:<code>dict</code>|:obj:<code>list</code>|:obj:<code>pandas.DataFrame</code>|:obj:<code>bytes</code>|:obj:<code>str</code>) – a
perspective.Table instance, a perspective.View instance, or
a dataset to be loaded in the widget.</li><li><strong>Keyword Arguments:</strong><ul><li><strong>index</strong> (<code>str</code>) – A column name to be used as the primary key.
Ignored if server is True.</li><li><strong>limit</strong> (<code>int</code>) – A upper limit on the number of rows in the Table.
Cannot be set at the same time as index, ignored if server
is True.</li><li><strong>server</strong> (<code>bool</code>) – Whether to run Perspective in “server-only”
mode, where the front-end client does not have its own Table,
and instead reads all data and operations from Python.</li><li><strong>client</strong> (<code>bool</code>) – If True, convert the dataset into an Apache Arrow
binary and create the Table in Javascript using a copy of the
data. Defaults to False.</li><li><strong>kwargs</strong> (<code>dict</code>) – configuration options for the PerspectiveViewer,
and Table constructor if data is a dataset.</li></ul></li></ul><h5 class="anchor anchorWithStickyNavbar_JmGV" id="examples-1">Examples<a class="hash-link" href="#examples-1" title="Direct link to heading">​</a></h5><div class="language-pycon codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-pycon codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; widget = PerspectiveWidget(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     {&quot;a&quot;: [1, 2, 3]},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     aggregates={&quot;a&quot;: &quot;avg&quot;},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     group_by=[&quot;a&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     sort=[[&quot;b&quot;, &quot;desc&quot;]],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     filter=[[&quot;a&quot;, &quot;&gt;&quot;, 1]],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     expressions=[&quot;&quot;a&quot; + 100&quot;])</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg class="copyButtonIcon_FoOz" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_L0B6" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_JmGV" id="loaddata-options">load(data, <!-- -->*<!-- -->*<!-- -->options)<a class="hash-link" href="#loaddata-options" title="Direct link to heading">​</a></h4><p>Load the widget with data. If running in client mode, this method
serializes the data and calls the browser viewer’s load method.
Otherwise, it calls Viewer.load() using super().</p><h4 class="anchor anchorWithStickyNavbar_JmGV" id="updatedata">update(data)<a class="hash-link" href="#updatedata" title="Direct link to heading">​</a></h4><p>Update the widget with new data. If running in client mode, this
method serializes the data and calls the browser viewer’s update
method. Otherwise, it calls Viewer.update() using super().</p><h4 class="anchor anchorWithStickyNavbar_JmGV" id="clear">clear()<a class="hash-link" href="#clear" title="Direct link to heading">​</a></h4><p>Clears the widget’s underlying Table.</p><p>In client mode, clears the <!-- -->_<!-- -->data attribute of the widget.</p><h4 class="anchor anchorWithStickyNavbar_JmGV" id="replacedata">replace(data)<a class="hash-link" href="#replacedata" title="Direct link to heading">​</a></h4><p>Replaces the widget’s Table with new data conforming to the same
schema. Does not clear user-set state. If in client mode, serializes
the data and sends it to the browser.</p><h4 class="anchor anchorWithStickyNavbar_JmGV" id="deletedelete_tabletrue">delete(delete_table=True)<a class="hash-link" href="#deletedelete_tabletrue" title="Direct link to heading">​</a></h4><p>Delete the Widget’s data and clears its internal state. If running in
client mode, sends the delete() command to the browser. Otherwise
calls delete on the underlying viewer.</p><ul><li><strong>Parameters:</strong><strong>delete_table</strong> (bool) – whether the underlying Table will be
deleted. Defaults to True.</li></ul><h3 class="anchor anchorWithStickyNavbar_JmGV" id="class-perspectiveviewerviewerperspectiveviewerkwargs-any"><em>class</em> perspective.viewer.viewer.PerspectiveViewer(<!-- -->*<!-- -->*<!-- -->kwargs: Any)<a class="hash-link" href="#class-perspectiveviewerviewerperspectiveviewerkwargs-any" title="Direct link to heading">​</a></h3><p>Bases: <code>PerspectiveTraitlets</code>, <code>object</code></p><p>PerspectiveViewer wraps the perspective.Table API and exposes an API
around creating views, loading data, and updating data.</p><h4 class="anchor anchorWithStickyNavbar_JmGV" id="__init__plugindatagrid-columnsnone-group_bynone-split_bynone-aggregatesnone-sortnone-filternone-expressionsnone-plugin_confignone-settingstrue-themenone-titlenone">_<!-- -->_<!-- -->init_<!-- -->_<!-- -->(plugin=&#x27;Datagrid&#x27;, columns=None, group_by=None, split_by=None, aggregates=None, sort=None, filter=None, expressions=None, plugin_config=None, settings=True, theme=None, title=None)<a class="hash-link" href="#__init__plugindatagrid-columnsnone-group_bynone-split_bynone-aggregatesnone-sortnone-filternone-expressionsnone-plugin_confignone-settingstrue-themenone-titlenone" title="Direct link to heading">​</a></h4><p>Initialize an instance of PerspectiveViewer with the given viewer
configuration.  Do not pass a Table or data into the constructor -
use the <a href="#perspective.viewer.viewer.PerspectiveViewer.load"><code>load()</code></a> method to provide the viewer with data.</p><ul><li><strong>Keyword Arguments:</strong><ul><li><strong>columns</strong> (<code>list</code> of <code>str</code>) – A list of column names to be
visible to the user.</li><li><strong>group_by</strong> (<code>list</code> of <code>str</code>) – A list of column names to
use as group by.</li><li><strong>split_by</strong> (<code>list</code> of <code>str</code>) – A list of column names
to use as split by.</li><li><strong>aggregates</strong> (<code>dict</code> of <code>str</code> to <code>str</code>) – A dictionary
of column names to aggregate types, which specify aggregates
for individual columns.</li><li><strong>sort</strong> (<code>list</code> of <code>list</code> of <code>str</code>) – A list of lists,
each list containing a column name and a sort direction
(<code>asc</code>, <code>desc</code>, <code>asc abs</code>, <code>desc abs</code>, <code>col asc</code>,
<code>col desc</code>, <code>col asc abs</code>, <code>col desc abs</code>).</li><li><strong>filter</strong> (<code>list</code> of <code>list</code> of <code>str</code>) – A list of lists,
each list containing a column name, a filter comparator, and a
value to filter by.</li><li><strong>expressions</strong> (<code>list</code> of <code>str</code>) – A list of string
expressions which are applied to the view.</li><li><strong>plugin</strong> (<code>str</code>/<code>perspective.Plugin</code>) – Which plugin to
select by default.</li><li><strong>plugin_config</strong> (<code>dict</code>) – A configuration for the plugin, i.e.
the datagrid plugin or a chart plugin.</li><li><strong>settings</strong> (<code>bool</code>) – Whether the perspective query settings
panel should be open.</li><li><strong>theme</strong> (<code>str</code>) – The color theme to use.</li></ul></li></ul><h5 class="anchor anchorWithStickyNavbar_JmGV" id="examples-2">Examples<a class="hash-link" href="#examples-2" title="Direct link to heading">​</a></h5><div class="language-pycon codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-pycon codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; viewer = PerspectiveViewer(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     aggregates={&quot;a&quot;: &quot;avg&quot;},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     group_by=[&quot;a&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     sort=[[&quot;b&quot;, &quot;desc&quot;]],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     filter=[[&quot;a&quot;, &quot;&gt;&quot;, 1]],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     expressions=[&quot;&quot;a&quot; + 100&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">... )</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg class="copyButtonIcon_FoOz" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_L0B6" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_JmGV" id="property-table"><em>property</em> table<a class="hash-link" href="#property-table" title="Direct link to heading">​</a></h4><p>Returns the <code>perspective.Table</code> under management by the viewer.</p><h4 class="anchor anchorWithStickyNavbar_JmGV" id="loaddata-options-1">load(data, <!-- -->*<!-- -->*<!-- -->options)<a class="hash-link" href="#loaddata-options-1" title="Direct link to heading">​</a></h4><p>Given a <code>perspective.Table</code>, a <code>perspective.View</code>,
or data that can be handled by <code>perspective.Table</code>, pass it to the
viewer.  Like <!-- -->_<!-- -->_<!-- -->init_<!-- -->_<!-- -->, load accepts a perspective.Table, a dataset,
or a schema. If running in client mode, load defers to the browser’s
Perspective engine. This means that loading Python-only datasets,
especially ones that cannot be serialized into JSON, may cause some
issues.</p><p><code>load()</code> resets the state of the viewer :</p><ul><li>If a <code>perspective.Table</code> has already been  loaded, <code>**options</code> is
ignored as the options already set on the <code>Table</code> take precedence.</li><li>If a <code>perspective.View</code> is loaded, the options on the
<code>perspective.Table</code> linked to the view take precedence.</li></ul><p>If data is passed in, a <code>perspective.Table</code> is automatically created
by this method, and the options passed to <code>**config</code> are extended to
the new Table.  If the widget already has a dataset, and the new data
has different columns to the old one, then the widget state (pivots,
sort, etc.) is cleared to prevent applying settings on columns that
don’t exist.</p><ul><li><strong>Parameters:</strong><strong>data</strong> (<code>Table</code>|:obj:<code>View</code>|:obj:<code>dict</code>|:obj:<code>list</code>|:obj:<code>pandas.DataFrame</code>|:obj:<code>bytes</code>|:obj:<code>str</code>) – a
perspective.Table instance, a perspective.View instance, or
a dataset to be loaded in the viewer.</li><li><strong>Keyword Arguments:</strong><ul><li><strong>name</strong> (<code>str</code>) – An optional name to reference the table by so it can
be accessed from the front-end. If not provided, a name will
be generated.</li><li><strong>index</strong> (<code>str</code>) – A column name to be used as the primary key.
Ignored if a <code>Table</code> or <code>View</code> is supplied.</li><li><strong>limit</strong> (<code>int</code>) – A upper limit on the number of rows in the Table.
Cannot be set at the same time as index. Ignored if a
<code>Table</code> or <code>View</code> is supplied.</li></ul></li></ul><h5 class="anchor anchorWithStickyNavbar_JmGV" id="examples-3">Examples<a class="hash-link" href="#examples-3" title="Direct link to heading">​</a></h5><div class="language-pycon codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-pycon codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; from perspective import Table, PerspectiveViewer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; data = {&quot;a&quot;: [1, 2, 3]}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; tbl = Table(data)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; viewer = PerspectiveViewer()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; viewer.load(tbl)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; viewer.load(data, index=&quot;a&quot;) # viewer state is reset</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; viewer2 = PerspectiveViewer()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; viewer2.load(tbl.view())</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg class="copyButtonIcon_FoOz" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_L0B6" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_JmGV" id="updatedata-1">update(data)<a class="hash-link" href="#updatedata-1" title="Direct link to heading">​</a></h4><p>Update the table under management by the viewer with new data.
This function follows the semantics of Table.update(), and will be
affected by whether an index is set on the underlying table.</p><ul><li><strong>Parameters:</strong><ul><li><strong>data</strong> (<code>dict</code>|:obj:<code>list</code>|:obj:<code>pandas.DataFrame</code>) – the</li><li><strong>table.</strong> (<em>update data for the</em>) – </li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_JmGV" id="clear-1">clear()<a class="hash-link" href="#clear-1" title="Direct link to heading">​</a></h4><p>Clears the rows of this viewer’s <code>Table</code>.</p><h4 class="anchor anchorWithStickyNavbar_JmGV" id="replacedata-1">replace(data)<a class="hash-link" href="#replacedata-1" title="Direct link to heading">​</a></h4><p>Replaces the rows of this viewer’s Table with new data.</p><ul><li><strong>Parameters:</strong><ul><li><strong>data</strong> (<code>dict</code>|:obj:<code>list</code>|:obj:<code>pandas.DataFrame</code>) – new data</li><li><strong>schema.</strong> (<em>to set into the table - must conform to the table&#x27;s</em>) – </li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_JmGV" id="save">save()<a class="hash-link" href="#save" title="Direct link to heading">​</a></h4><p>Get the viewer’s attribute as a dictionary, symmetric with restore
so that a viewer’s configuration can be reproduced.</p><h4 class="anchor anchorWithStickyNavbar_JmGV" id="restorekwargs">restore(<!-- -->*<!-- -->*<!-- -->kwargs)<a class="hash-link" href="#restorekwargs" title="Direct link to heading">​</a></h4><p>Restore a given set of attributes, passed as kwargs
(e.g. dictionary). Symmetric with save so that a given viewer’s
configuration can be reproduced.</p><h4 class="anchor anchorWithStickyNavbar_JmGV" id="reset">reset()<a class="hash-link" href="#reset" title="Direct link to heading">​</a></h4><p>Resets the viewer’s attributes and state, but does not delete or
modify the underlying Table.</p><h5 class="anchor anchorWithStickyNavbar_JmGV" id="examples-4">Examples<a class="hash-link" href="#examples-4" title="Direct link to heading">​</a></h5><p>widget = PerspectiveWidget(data, group_by=<!-- -->[“date”]<!-- -->, plugin=Plugin.XBAR)
widget.reset()
widget.plugin  #</p><h4 class="anchor anchorWithStickyNavbar_JmGV" id="deletedelete_tabletrue-1">delete(delete_table=True)<a class="hash-link" href="#deletedelete_tabletrue-1" title="Direct link to heading">​</a></h4><p>Delete the Viewer’s data and clears its internal state. If
<code>delete_table</code> is True, the underlying perspective.Table and the
internal View object will be deleted.</p><ul><li><strong>Parameters:</strong><strong>delete_table</strong> (<code>bool</code>) – whether the underlying Table will be
deleted. Defaults to True.</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="perspective-webserver-handlers">Perspective Webserver Handlers<a class="hash-link" href="#perspective-webserver-handlers" title="Direct link to heading">​</a></h2><p>Perspective provides several ready-made integrations with webserver libraries that interfaces seamlessly with
<code>@finos/perspective-viewer</code> in Javascript.</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="class-perspectivehandlerstornadoperspectivetornadohandlerargs-kwargs"><em>class</em> perspective.handlers.tornado.PerspectiveTornadoHandler(<!-- -->*<!-- -->args, <!-- -->*<!-- -->*<!-- -->kwargs)<a class="hash-link" href="#class-perspectivehandlerstornadoperspectivetornadohandlerargs-kwargs" title="Direct link to heading">​</a></h3><p>Bases: <code>PerspectiveHandlerBase</code>, <code>WebSocketHandler</code></p><p>PerspectiveTornadoHandler is a drop-in implementation of Perspective.</p><p>Use it inside Tornado routing to create a server-side Perspective that is
ready to receive websocket messages from the front-end perspective-viewer.
Because Tornado implements an event loop, this handler links Perspective
with IOLoop.current() in order to defer expensive operations until the
next free iteration of the event loop.</p><p>The Perspective client and server will automatically keep the Websocket
alive without timing out.</p><h5 class="anchor anchorWithStickyNavbar_JmGV" id="examples-5">Examples<a class="hash-link" href="#examples-5" title="Direct link to heading">​</a></h5><div class="language-pycon codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-pycon codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; MANAGER = PerspectiveManager()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; MANAGER.host_table(&quot;data_source_one&quot;, Table(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     pd.read_csv(&quot;superstore.csv&quot;)))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; app = tornado.web.Application([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     (r&quot;/&quot;, MainHandler),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     (r&quot;/websocket&quot;, PerspectiveTornadoHandler, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...         &quot;manager&quot;: MANAGER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...         &quot;check_origin&quot;: True</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">... ])</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg class="copyButtonIcon_FoOz" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_L0B6" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_JmGV" id="__init__args-kwargs">_<!-- -->_<!-- -->init_<!-- -->_<!-- -->(<!-- -->*<!-- -->args, <!-- -->*<!-- -->*<!-- -->kwargs)<a class="hash-link" href="#__init__args-kwargs" title="Direct link to heading">​</a></h4><p>Create a new instance of the PerspectiveHandlerBase with the
given Manager instance.</p><ul><li><strong>Keyword Arguments:</strong><ul><li><strong>manager</strong> (<code>PerspectiveManager</code>) – A PerspectiveManager instance.
Must be provided on initialization.</li><li><strong>(</strong> (<em>check_origin</em>) – obj<!-- -->`<!-- -->bool<!-- -->`<!-- -->): If True, all requests will be accepted
regardless of origin. Defaults to False.</li><li><strong>chunk_size</strong> (<code>int</code>) – Binary messages will not exceed this length
(in bytes);  payloads above this limit will be chunked
across multiple messages. Defaults to 16_777_216 (16MB), and
be disabled entirely with None.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_JmGV" id="on_messageargs-kwargs">on_message(<!-- -->*<!-- -->args, <!-- -->*<!-- -->*<!-- -->kwargs)<a class="hash-link" href="#on_messageargs-kwargs" title="Direct link to heading">​</a></h4><p>When the websocket receives a message, send it to the <code>process</code>
method of the PerspectiveManager with a reference to the <code>post</code>
callback.</p><h4 class="anchor anchorWithStickyNavbar_JmGV" id="async-write_messagemessage-str-binary-bool--false"><em>async</em> write_message(message: str, binary: bool = False)<a class="hash-link" href="#async-write_messagemessage-str-binary-bool--false" title="Direct link to heading">​</a></h4><p>Websocket-specific implementation of writing a message to the websocket client.
Must support writing either text or binary messages. Should only be called by this
class’s post function, which handles all the perspective-specific logic</p><ul><li><strong>Parameters:</strong><ul><li><strong>message</strong> (<em>str</em>) – the message to write</li><li><strong>binary</strong> (<em>bool**,</em> <em>optional</em>) – whether or not to write as binary buffer</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_JmGV" id="class-perspectivehandlersstarletteperspectivestarlettehandlerkwargs"><em>class</em> perspective.handlers.starlette.PerspectiveStarletteHandler(<!-- -->*<!-- -->*<!-- -->kwargs)<a class="hash-link" href="#class-perspectivehandlersstarletteperspectivestarlettehandlerkwargs" title="Direct link to heading">​</a></h3><p>Bases: <code>PerspectiveHandlerBase</code></p><p>PerspectiveStarletteHandler is a drop-in implementation of Perspective.</p><p>The Perspective client and server will automatically keep the Websocket
alive without timing out.</p><h5 class="anchor anchorWithStickyNavbar_JmGV" id="examples-6">Examples<a class="hash-link" href="#examples-6" title="Direct link to heading">​</a></h5><div class="language-pycon codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-pycon codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; MANAGER = PerspectiveManager()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; MANAGER.host_table(&quot;data_source_one&quot;, Table(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     pd.read_csv(&quot;superstore.csv&quot;)))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; app = FastAPI()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; async def endpoint(websocket: Websocket):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     handler = PerspectiveStarletteHandler(manager, websocket)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...     await handler.run()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">... app.add_api_websocket_route(&#x27;/websocket&#x27;, endpoint)</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg class="copyButtonIcon_FoOz" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_L0B6" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_JmGV" id="__init__kwargs">_<!-- -->_<!-- -->init_<!-- -->_<!-- -->(<!-- -->*<!-- -->*<!-- -->kwargs)<a class="hash-link" href="#__init__kwargs" title="Direct link to heading">​</a></h4><p>Create a new instance of the PerspectiveHandlerBase with the
given Manager instance.</p><ul><li><strong>Keyword Arguments:</strong><ul><li><strong>manager</strong> (<code>PerspectiveManager</code>) – A PerspectiveManager instance.
Must be provided on initialization.</li><li><strong>(</strong> (<em>check_origin</em>) – obj<!-- -->`<!-- -->bool<!-- -->`<!-- -->): If True, all requests will be accepted
regardless of origin. Defaults to False.</li><li><strong>chunk_size</strong> (<code>int</code>) – Binary messages will not exceed this length
(in bytes);  payloads above this limit will be chunked
across multiple messages. Defaults to 16_777_216 (16MB), and
be disabled entirely with None.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_JmGV" id="async-write_messagemessage-str-binary-bool--false-1"><em>async</em> write_message(message: str, binary: bool = False)<a class="hash-link" href="#async-write_messagemessage-str-binary-bool--false-1" title="Direct link to heading">​</a></h4><p>Websocket-specific implementation of writing a message to the websocket client.
Must support writing either text or binary messages. Should only be called by this
class’s post function, which handles all the perspective-specific logic</p><ul><li><strong>Parameters:</strong><ul><li><strong>message</strong> (<em>str</em>) – the message to write</li><li><strong>binary</strong> (<em>bool**,</em> <em>optional</em>) – whether or not to write as binary buffer</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_JmGV" id="class-perspectivehandlersaiohttpperspectiveaiohttphandlerkwargs"><em>class</em> perspective.handlers.aiohttp.PerspectiveAIOHTTPHandler(<!-- -->*<!-- -->*<!-- -->kwargs)<a class="hash-link" href="#class-perspectivehandlersaiohttpperspectiveaiohttphandlerkwargs" title="Direct link to heading">​</a></h3><p>Bases: <code>PerspectiveHandlerBase</code></p><p>PerspectiveAIOHTTPHandler is a drop-in implementation of Perspective.</p><p>Use it inside AIOHTTP routing to create a server-side Perspective that is
ready to receive websocket messages from the front-end perspective-viewer.</p><p>The Perspective client and server will automatically keep the Websocket
alive without timing out.</p><h5 class="anchor anchorWithStickyNavbar_JmGV" id="examples-7">Examples<a class="hash-link" href="#examples-7" title="Direct link to heading">​</a></h5><div class="language-pycon codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-pycon codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; manager = PerspectiveManager()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; async def websocket_handler(request):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...    handler = PerspectiveAIOHTTPHandler(manager=manager, request=request)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...    await handler.run()</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg class="copyButtonIcon_FoOz" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_L0B6" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-pycon codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-pycon codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; app = web.Application()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&gt;&gt;&gt; app.router.add_get(&quot;/websocket&quot;, websocket_handler)</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg class="copyButtonIcon_FoOz" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_L0B6" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_JmGV" id="__init__kwargs-1">_<!-- -->_<!-- -->init_<!-- -->_<!-- -->(<!-- -->*<!-- -->*<!-- -->kwargs)<a class="hash-link" href="#__init__kwargs-1" title="Direct link to heading">​</a></h4><p>Create a new instance of the PerspectiveHandlerBase with the
given Manager instance.</p><ul><li><strong>Keyword Arguments:</strong><ul><li><strong>manager</strong> (<code>PerspectiveManager</code>) – A PerspectiveManager instance.
Must be provided on initialization.</li><li><strong>(</strong> (<em>check_origin</em>) – obj<!-- -->`<!-- -->bool<!-- -->`<!-- -->): If True, all requests will be accepted
regardless of origin. Defaults to False.</li><li><strong>chunk_size</strong> (<code>int</code>) – Binary messages will not exceed this length
(in bytes);  payloads above this limit will be chunked
across multiple messages. Defaults to 16_777_216 (16MB), and
be disabled entirely with None.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_JmGV" id="async-write_messagemessage-str-binary-bool--false-2"><em>async</em> write_message(message: str, binary: bool = False)<a class="hash-link" href="#async-write_messagemessage-str-binary-bool--false-2" title="Direct link to heading">​</a></h4><p>Websocket-specific implementation of writing a message to the websocket client.
Must support writing either text or binary messages. Should only be called by this
class’s post function, which handles all the perspective-specific logic</p><ul><li><strong>Parameters:</strong><ul><li><strong>message</strong> (<em>str</em>) – the message to write</li><li><strong>binary</strong> (<em>bool**,</em> <em>optional</em>) – whether or not to write as binary buffer</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="perspective-websocket-clients">Perspective Websocket Clients<a class="hash-link" href="#perspective-websocket-clients" title="Direct link to heading">​</a></h2><p>Perspective also provides several client interfaces to integrate with the above Perspective webserver handlers.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="perspectivemanager">PerspectiveManager<a class="hash-link" href="#perspectivemanager" title="Direct link to heading">​</a></h2><p><code>PerspectiveManager</code> implements a communication protocol between Perspective runtimes in different languages.
Through its <code>process()</code> method, it allows runtimes to communicate instructions and interoperate.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/obj/perspective-viewer-exprtk/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ExprTK Function Reference</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/development/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Developer Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table" class="table-of-contents__link toc-highlight">Table</a></li><li><a href="#view" class="table-of-contents__link toc-highlight">View</a></li><li><a href="#perspectivewidget" class="table-of-contents__link toc-highlight">PerspectiveWidget</a><ul><li><a href="#class-perspectivewidgetwidgetperspectivewidgetkwargs-any" class="table-of-contents__link toc-highlight"><em>class</em> perspective.widget.widget.PerspectiveWidget(**kwargs: Any)</a></li><li><a href="#class-perspectiveviewerviewerperspectiveviewerkwargs-any" class="table-of-contents__link toc-highlight"><em>class</em> perspective.viewer.viewer.PerspectiveViewer(**kwargs: Any)</a></li></ul></li><li><a href="#perspective-webserver-handlers" class="table-of-contents__link toc-highlight">Perspective Webserver Handlers</a><ul><li><a href="#class-perspectivehandlerstornadoperspectivetornadohandlerargs-kwargs" class="table-of-contents__link toc-highlight"><em>class</em> perspective.handlers.tornado.PerspectiveTornadoHandler(*args, **kwargs)</a></li><li><a href="#class-perspectivehandlersstarletteperspectivestarlettehandlerkwargs" class="table-of-contents__link toc-highlight"><em>class</em> perspective.handlers.starlette.PerspectiveStarletteHandler(**kwargs)</a></li><li><a href="#class-perspectivehandlersaiohttpperspectiveaiohttphandlerkwargs" class="table-of-contents__link toc-highlight"><em>class</em> perspective.handlers.aiohttp.PerspectiveAIOHTTPHandler(**kwargs)</a></li></ul></li><li><a href="#perspective-websocket-clients" class="table-of-contents__link toc-highlight">Perspective Websocket Clients</a></li><li><a href="#perspectivemanager" class="table-of-contents__link toc-highlight">PerspectiveManager</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/js/">JavaScript User Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/python/">Python User Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/finos/perspective" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://finos.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">FINOS</a></li><li class="footer__item"><a href="https://www.prospective.co/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 The Perspective Authors</div></div></div></footer></div>
<script src="/assets/js/runtime~main.891a951e.js"></script>
<script src="/assets/js/main.537a77d9.js"></script>
</body>
</html>